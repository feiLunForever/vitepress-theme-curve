# yh 自我介绍

大家好，我叫XXX，目前 7 年工作经验了。我现在在智慧树公司这边工作，主要是做教育方面的。我目前主要做的是智能化内容生产平台，支持教师上传教材文档，通过文档解析，智能提取并生成标题、关键知识点、内容简介等元数据，生成结构化数据。后续其他服务，类似于AI讲稿、AI出题，智能生成视频等服务，都是基于这个结构化数据的。我主要是负责生成结构化数据的这个数据平台以及后续的智能视频生成服务。

- 数据平台
  - 教师上传PPT、DOC、PDF、图片等教材，切页、OCR、结构化模型，提取并生成标题、关键知识点、内容简介等元数据，并有版本号控制，相当于数据中心。
- 智能视频生成
  - 根据结构化数据、通过tts能力（miniMax，字节tts、华为、小冰等）和数字人，基于ffmpeg生成小视频、然后切割小头像、合并多页视频到大视频

但是我看咱们是搜索部门，所以我比较想讲讲yh的搜推项目哈

目前就业于yh有限公司，目前主要的工作内容是：yh 生活 app中搜索推荐项目。  

主要负责的是 app 中的搜索以及菜谱、首页、猜你喜欢、购物车、每日爆款等场景的商品召回、过滤以及重排服务的核心开发功能。

搜推区别还是挺大的，推荐的话，是将逻辑分散到不同的场景中，比如购物车推荐，需要根据用户实时点击的商品行为和当前购物车商品进行相似商品召回，而首页则需要额外将热销、热点击、新品等召回，就是每个不同的场景召回逻辑和过滤、排序逻辑是分开的；

而搜索则不一样，搜索的链路很深，因为入口就用户的搜索，主要的流程包括：

1. 首先进行query改写，处理搜索词，比如：emoji表情包替换、繁转简、拼音转汉字，纠错等
2. 自定义分词器，比如雪碧 SPU 柠檬 ATTR，BRD 稍后介绍 
3. 根据上下文，匹配算子集合（召回、过滤、排序等都封装成了算子）
4. 多路召回  
   - es结构化召回（读取配置 ，动态生成dsl）
   - ngram文本召回 ngram切词 商品的搜索词searchword 召回 
   - faiss向量召回 搜索词 -> embedding 向量  
5. 合并召回商品，执行过滤算子
   - 前置过滤，纯内存过滤（在cache中 / 前缀过滤等）
   - 异步加载cache，合并后的商品，加载相关cache -》ehcache ，比如商品属性、促销信息、库存、上下架等等
   - 后置过滤  
6. 相关性分档 
   - 构建特征feature[] 有无类目预测，商品价格，es分数等  
   - 根据特征做condition计算，分档

type2：

走模型 

重排：  

类目预测加权、预售打压、及时达商品提权、折扣加权等

‍

‍

‍

‍

‍

‍

‍

‍

‍
