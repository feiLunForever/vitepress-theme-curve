
# yh 自我介绍

大家好，我叫XXX，目前6年工作经验，目前就业于yh有限公司，目前主要的工作内容是：yh 生活 app中搜索推荐项目。  
主要负责的是 app 中的搜索以及菜谱、首页、猜你喜欢、购物车、每日爆款等场景的商品召回、过滤以及重排服务的核心开发功能。

搜推区别还是挺大的，推荐的话，是将逻辑分散到不同的场景中，比如购物车推荐，需要根据用户实时点击的商品行为和  
当前购物车商品进行相似商品召回，而首页则需要额外将热销、热点击、新品等召回，就是每个不同的场景召回逻辑和过滤、排序逻辑是分开的

而搜索则不一样，搜索的链路很深，因为入口就用户的搜索，主要的流程包括：

1.首先进行query改写，处理搜索词，比如：emoji表情包替换、繁转简、拼音转汉字，纠错等  
2.自定义分词器，比如雪碧 SPU 柠檬 ATTR，BRD 稍后介绍  
3.根据上下文，匹配算子集合（召回、过滤、排序等都封装成了算子）  
4.多路召回  
4.1 es结构化召回（读取配置 ，动态生成dsl）  
4.2 ngram文本召回 ngram切词 商品的搜索词searchword 召回  
4.3 faiss向量召回 搜索词 -> embedding 向量  
5.合并召回商品，执行过滤算子  
5.1 前置过滤，纯内存过滤（在cache中 / 前缀过滤等）  
5.2 异步加载cache，合并后的商品，加载相关cache -》ehcache ，比如商品属性、促销信息、库存、上下架等等  
5.2 后置过滤  
6.相关性分档  
6.1 构建特征feature[] 有无类目预测，商品价格，es分数等  
6.2 根据特征做condition计算，分档

type2：

走模型 

重排：  
类目预测加权、预售打压、及时达商品提权、折扣加权等

‍

‍

‍

‍

‍

‍

‍

‍

‍
